Cufon.replace("h1,h2,h3");function openWindow(c,b,d,a){$.fancybox({href:c,type:"iframe",width:d,height:a,padding:0})}function openWindow2(c,b,d,a){centerWidth=(window.screen.width-d)/2;centerHeight=(window.screen.height-a)/2;newWindow=window.open(c,b,"resize=no,toolbar=no,width="+d+",height="+a+",left="+centerWidth+",top="+centerHeight);newWindow.focus();return newWindow.name}$(function(){window.setTimeout(function(){$(".fb_dialog").css({top:"82.5px",left:"116.5px"})},500);$(".title a, .photo_zone a, #footer a.terms_button, #new_message_button, .additional a").click(function(d){d.preventDefault();var c=$(this).attr("href");if(c.search("^http://apps.facebook.com/masbuenoqueelpan/")==0){c=c.replace("http://apps.facebook.com/masbuenoqueelpan/","");var b=c.split("/");switch(b[0]){case"terminos_y_condiciones":window.location="/terms";break;case"nueva_receta":window.location="/messages/add";break;case"recetas":if(b.length>1){window.location="/messages/"+b[1]}else{window.location="/messages"}break}}});$("#contest_logo a, #back_to_home").click(function(b){b.preventDefault();window.location="/"});$(".disabled").click(function(b){b.preventDefault()});$("a.remove_message").live("click",function(b){b.preventDefault();$(this).parent().remove();a()});$("a#new_message").live("click",function(c){c.preventDefault();var b=$("#ingredients .input_collection").length;$("#ingredients a#new_message").remove();$("#ingredients .input_collection").last().append('<a class="remove_message" href="#">-</a>');$("#ingredients").append('<div class="input_collection"><div class="input string optional"><input class="string optional" id="message_ingredients_attributes_'+b+'_quantity" maxlength="255" name="message[ingredients_attributes]['+b+'][quantity]" placeholder="#" size="3" type="text"></div><div class="input string optional"><input class="string optional" id="message_ingredients_attributes_'+b+'_ingredient_type" maxlength="255" name="message[ingredients_attributes]['+b+'][ingredient_type]" placeholder="Tipo" size="14" type="text"></div><div class="input string optional"><input class="string optional" id="message_ingredients_attributes_'+b+'_product" maxlength="255" name="message[ingredients_attributes]['+b+'][product]" placeholder="Ingrediente" size="28" type="text"></div><a href="#" id="new_message">+</a></div>');a()});function a(){$("#ingredients .input_collection").each(function(c,d){var b=$(d).find(".input input");$(b[0]).attr({id:"message_ingredients_attributes_"+c+"_quantity",name:"message[ingredients_attributes]["+c+"][quantity]"});$(b[1]).attr({id:"message_ingredients_attributes_"+c+"_ingredient_type",name:"message[ingredients_attributes]["+c+"][ingredient_type]"});$(b[2]).attr({id:"message_ingredients_attributes_"+c+"_product",name:"message[ingredients_attributes]["+c+"][product]"})})}$("a.twitter_icon").click(function(b){b.preventDefault();openWindow2($(this).attr("href"),"share_twitter",550,300)});$("a.facebook_icon").click(function(b){b.preventDefault();$.fancybox({href:"https://www.facebook.com/dialog/feed?link="+$(this).attr("href")+"&name="+$(this).attr("title")+"&caption=Concurso Más bueno que el Pan&display=iframe&redirect_uri=http://alpha-kato.heroku.com/facebook&access_token="+fb_token+"&app_id=136578643087393",type:"iframe",width:560,height:300,padding:0})});$("li.message.longer").each(function(b,c){$(c).append('<div class="tooltip" title="" id="tooltip_'+$(c).attr("id")+'"><div class="content" title="">'+$(c).attr("title")+'</div><div class="arrow" title=""></div></div>');$(c).attr("title","")});$("li.message .tooltip").each(function(b,c){var e=(173-$(c).height())/2;var d=(155-$(c).width())/2;$(c).css({top:e+"px",left:d+"px"})});$("li.message").mouseenter(function(){$(this).find(".tooltip").fadeIn("fast")}).mouseleave(function(){$(this).find(".tooltip").fadeOut("fast")})});function addNewMessage(b){var a=$('meta[name="csrf-token"]').attr("content");$("#messages_list").prepend('<li class="message" id="message_'+b.id+'"><h4><a href="/messages/'+b.id+'">'+b.title+'</a></h4><div class="content">'+b.content+'</div><div class="meta_data"> <div class="avatar"></div> <div class="name"></div> <div class="votes"><div class="vote_count"> '+b.votes_count+' votos</div> <div class="submit"> <form accept-charset="UTF-8" action="/votes" class="simple_form vote" data-remote="true"   id="new_vote" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"><input name="authenticity_token" type="hidden" value="'+a+'"></div> <input class="hidden" id="vote_message_id" name="vote[message_id]" type="hidden" value="'+b.id+'"> <input class="button" id="vote_submit" name="commit" type="submit" value="Votar"> </form> </div> </div> </div> </li>');var c=$("#messages_list");c.imagesLoaded(function(){c.masonry("reload")})}function updateVotesCount(b){var a=$('meta[name="csrf-token"]').attr("content");$("#message_"+b.message_id+" .votes").html("<div class='vote_count'>\n"+b.votes_count+'\nvotos\n</div>\n<div class=\'submit\'>\n<form accept-charset="UTF-8" action="/votes" class="simple_form vote" data-remote="true" id="new_vote" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="'+a+'" /></div>\n<input class="hidden" id="vote_message_id" name="vote[message_id]" type="hidden" value="'+b.message_id+'" />\n<input class="button" id="vote_submit" name="commit" type="submit" value="Votar" />\n</form>\n</div>\n');$("#message_"+b.message_id).effect("shake",{distance:3,times:5},100).effect("highlight",{},1000)}var scroll=$(window).scrollTop();function streamPublish(b,a,d,c,e){FB.ui({method:"feed",app_id:136578643087393,name:b,link:d,picture:e,caption:a,description:c,display:"iframe",access_token:fb_token},function(f){$(".fb_dialog .fb_dialog_advanced .loading").css({top:"82.5px",left:"116.5px"})})}function publishStream(){streamPublish("Stream Publish","Thinkdiff.net is simply awesome.","http://wp.me/pr3EW-sv"," I just learned how to develop Iframe+Jquery+Ajax base facebook application development using php sdk 3.0. ","Checkout the Tutorial")};